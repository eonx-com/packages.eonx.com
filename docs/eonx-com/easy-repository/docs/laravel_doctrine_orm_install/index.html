<!DOCTYPE html>
<html lang="en">
<head>
    <title>EonX Docs</title>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">
    <script defer src="https://kit.fontawesome.com/955de18180.js" crossorigin="anonymous"></script>

                <link id="theme-style" rel="stylesheet" href="packages.eonx.com//assets/css/theme.css">
    

    <link id="theme-style" rel="stylesheet" href="/assets/css/prism.css">
</head>
<body>



<div class="page-header theme-bg-dark py-5 text-center position-relative">
    <div class="theme-bg-shapes-right"></div>
    <div class="theme-bg-shapes-left"></div>
    <div class="container">
        <h1 class="page-heading single-col-max mx-auto"><img class="logo-icon mr-2"
                                                             src="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-logo@1x.png"
                                                             alt="logo"></h1>
        <h1 class="page-heading single-col-max mx-auto">Documentation</h1>
                <div class="page-intro single-col-max mx-auto">Everything you need to get your software documentation online.</div>
                <div class="main-search-box pt-3 d-block mx-auto">
                    <form class="search-form w-100">
                        <input type="text" placeholder="Search the docs..." name="search" class="form-control search-input">
                        <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i></button>
                    </form>
                </div>
    </div>
</div><!--//page-header-->
<div class="page-content">
    <div class="container">
        <div class="docs-overview py-5">
            <div class="row">
                    <div class="col-12">
        <div align="center">
    <h1>EonX - EasyRepository</h1>
    <p>Provides an easy way to implement the Repository Design Pattern in your applications.</p>
</div>
<hr />
<p>This document describes the steps to use this package into a <a href="https://laravel.com/">Laravel</a> and/or <a href="https://lumen.laravel.com/">Lumen</a> application with the
<a href="https://www.doctrine-project.org/projects/orm.html">Doctrine ORM</a> implementation.</p>
<h1>Install With Doctrine ORM</h1>
<p>For this package install please refer to the related <a href="laravel_install.md">documentation</a>. Regarding Doctrine ORM, we
strongly recommend you to use the <a href="https://www.laraveldoctrine.org/docs/1.3/orm">Laravel Doctrine ORM package</a>, please refer to its documentation for its install.</p>
<h1>Usage</h1>
<h2>AbstractDoctrineRepository</h2>
<p>This package provides you with <code>EonX\EasyRepository\Implementations\Doctrine\ORM\AbstractDoctrineRepository</code> which
has everything setup for you to implement the generic <code>ObjectRepositoryInterface</code> using Doctrine ORM, and take advantage
of the dependency injection. Using this abstraction is completely optional you could create your own, but we recommend
to use it to avoid you doing work already done.</p>
<p>Make sure all your repositories extend it, then you will be able to use the existing methods and/or create your own. To
be able to work properly this abstraction will ensure an entity class is provided.</p>
<p>Here is a simple example how to use it:</p>
<pre><code class="language-php">// app/Repositories/PostRepositoryInterface.php

use App\Database\Entities\Post;

interface PostRepositoryInterface
{
    public function findByTitle(string $title): ?Post;
}

// app/Repositories/PostRepository.php

use App\Database\Entities\Post;
use EonX\EasyRepository\Implementations\Doctrine\ORM\AbstractDoctrineRepository;

final class PostRepository extends AbstractDoctrineRepository implements PostRepositoryInterface
{
    /**
     * Find a post by its title.
     *
     * @param string $title The post title
     *
     * @return null|\App\Database\Entities\Post
     */
    public function findByTitle(string $title): ?Post
    {
        // The abstraction provides you the Doctrine Repository for Post::class as a protected property
        return $this-&gt;repository-&gt;findOneBy(['title' =&gt; $title]);
    }

    /**
     * Get entity class managed by the repository.
     *
     * @return string
     */
     protected function getEntityClass(): string
     {
        return Post::class;
     }
}</code></pre>
<h2>AbstractPaginatedDoctrineOrmRepository</h2>
<p>If you need to deal with paginated sets of objects, this package provides you with <code>EonX\EasyRepository\Implementations\Doctrine\ORM\AbstractPaginatedDoctrineOrmRepository</code>
which has everything setup for you. This repository has a dependency on the <code>StartSizeDataInterface</code> from the <code>eonx/pagination</code>
package so to be able to use it you first need to update your project's dependencies:</p>
<pre><code class="language-bash">$ composer require eonx/pagination</code></pre>
<p>And then don't forget to register the service provider into your application, please refer to the <a href="https://github.com/eonx/easy-pagination/blob/master/docs/install_laravel.md">documentation</a>.</p>
<p>Once everything setup, the pagination data will be resolved and injected automatically into your repositories. You will
have access to the method <code>public function paginate(?StartSizeDataInterface $startSizeData = null): LengthAwarePaginatorInterface</code>
which will allow you to pass an optional pagination data object, if you don't it will then use the resolved data.
On the top of this public method, this abstraction provides an internal <code>protected function doPaginate(\Doctrine\ORM\Query $query): LengthAwarePaginatorInterface</code>
which allows you to easily paginate any custom query you build.</p>
<p>Here is a simple example how to use it:</p>
<pre><code class="language-php">// app/Repositories/PostRepositoryInterface.php

use App\Database\Entities\Post;
use EonX\EasyPagination\Interfaces\LengthAwarePaginatorInterface;

interface PostRepositoryInterface
{
    public function getByCategoryPaginatedList(string $category): LengthAwarePaginatorInterface;
}

// app/Repositories/PostRepository.php

use App\Database\Entities\Post;
use EonX\EasyRepository\Implementations\Doctrine\ORM\AbstractPaginatedDoctrineOrmRepository;

final class PostRepository extends AbstractPaginatedDoctrineOrmRepository implements PostRepositoryInterface
{
    public function getByCategoryPaginatedList(string $category): LengthAwarePaginatorInterface
    {
        $query = $this-&gt;createQueryBuilder()
                      -&gt;where('p.category = :category')
                      -&gt;setParameter('category', $category)
                      -&gt;getQuery();

        return $this-&gt;doPaginate($query);
    }

    /**
     * Get entity class managed by the repository.
     *
     * @return string
     */
     protected function getEntityClass(): string
     {
        return Post::class;
     }
}</code></pre>
    </div>
            </div><!--//row-->
        </div><!--//container-->
    </div><!--//container-->
</div><!--//page-content-->

<section class="cta-section text-center py-5 theme-bg-dark position-relative">
    <div class="theme-bg-shapes-right"></div>
    <div class="theme-bg-shapes-left"></div>
    <div class="container">
        <h3 class="mb-2 text-white mb-3">Launch Your Software Project Like A Pro</h3>
        <div class="section-intro text-white mb-3 single-col-max mx-auto">Want to launch your software project and start
            getting traction from your target users? Check out our premium <a class="text-white"
                                                                              href="https://themes.3rdwavemedia.com/bootstrap-templates/startup/coderpro-bootstrap-4-startup-template-for-software-projects/">Bootstrap
                4 startup template CoderPro</a>! It has everything you need to promote your product.
        </div>
        <div class="pt-3 text-center">
            <a class="btn btn-light"
               href="https://themes.3rdwavemedia.com/bootstrap-templates/startup/coderpro-bootstrap-4-startup-template-for-software-projects/">Get
                CoderPro<i class="fas fa-arrow-alt-circle-right ml-2"></i></a>
        </div>
    </div>
</section><!--//cta-section-->


<footer class="footer">

    <div class="footer-bottom text-center py-5">

        <ul class="social-list list-unstyled pb-4 mb-0">
            <li class="list-inline-item"><a href="#"><i class="fab fa-github fa-fw"></i></a></li>
            <li class="list-inline-item"><a href="#"><i class="fab fa-twitter fa-fw"></i></a></li>
            <li class="list-inline-item"><a href="#"><i class="fab fa-slack fa-fw"></i></a></li>
            <li class="list-inline-item"><a href="#"><i class="fab fa-product-hunt fa-fw"></i></a></li>
            <li class="list-inline-item"><a href="#"><i class="fab fa-facebook-f fa-fw"></i></a></li>
            <li class="list-inline-item"><a href="#"><i class="fab fa-instagram fa-fw"></i></a></li>
        </ul><!--//social-list-->

        <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can buy the commercial license via our website: themes.3rdwavemedia.com */-->
        <small class="copyright">Designed with <i class="fas fa-heart" style="color: #fb866a;"></i> by <a
                    class="theme-link" href="http://themes.3rdwavemedia.com" target="_blank">Xiaoying Riley</a> for
            developers</small>
    </div>

</footer>

</body>
        <script src="packages.eonx.com//assets/js/jquery-3.4.1.min.js"></script>
    <script src="packages.eonx.com//assets/js/jquery.scrollTo.min.js"></script>
    <script src="packages.eonx.com//assets/js/popper.min.js"></script>
    <script src="packages.eonx.com//assets/js/bootstrap.min.js"></script>


    <script>
        $('pre').addClass('line-numbers');
    </script>

    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
    <script src="/assets/js/prism.js"></script>
</html>
