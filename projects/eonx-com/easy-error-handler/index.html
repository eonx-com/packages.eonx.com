<!DOCTYPE html>
<html lang="en">
<head>
    <title>EonX Docs</title>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">
    <script defer src="https://kit.fontawesome.com/955de18180.js" crossorigin="anonymous"></script>

    <link rel="icon" href="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-512-70x70.png" sizes="32x32">
    <link rel="icon" href="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-512.png" sizes="192x192">
    <link rel="apple-touch-icon-precomposed" href="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-512.png">

                

        <link id="theme-style" rel="stylesheet" href="/assets/css/theme.css">
    

    <link id="theme-style" rel="stylesheet" href="/assets/css/theme.css">
    <link id="theme-style" rel="stylesheet" href="/assets/css/prism.css">
</head>

<div id="app">
        <body class="docs-page">
    <header class="header fixed-top">
        <div class="branding docs-branding">
            <div class="container-fluid position-relative py-2">
                <div class="docs-logo-wrapper">
                    <button id="docs-sidebar-toggler" class="docs-sidebar-toggler docs-sidebar-visible mr-2 d-xl-none"
                            type="button">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <div class="site-logo">
                        <a class="navbar-brand" href="/">
                            <img class="logo-icon mr-2"
                                 src="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-logo@1x.png"
                                 alt="logo">
                        </a>
                    </div>
                </div><!--//docs-logo-wrapper-->
                <div class="docs-top-utilities d-flex justify-content-end align-items-center">
                    <div class="top-search-box d-none d-lg-flex">
                        <form class="search-form">
                            <input type="text" placeholder="Search the docs..." name="search"
                                   class="form-control search-input">
                            <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i>
                            </button>
                        </form>
                    </div>

                                                                                                                                                            </div><!--//docs-top-utilities-->
            </div><!--//container-->
        </div><!--//branding-->
    </header><!--//header-->

        <div class="docs-wrapper">
        <div id="docs-sidebar" class="docs-sidebar">
            <nav id="docs-nav" class="docs-nav navbar">
                <ul class="section-items list-unstyled nav flex-column pb-3">
                    <li class="nav-item section-title">
                        <a class="nav-link scrollto active" href="#intro">
                        <span class="theme-icon-holder mr-2">
                            <i class="fas fa-cubes"></i>
                        </span>
                            eonx-com/easy-error-handler
                        </a>
                    </li>

                                            <li class="nav-item ">
                            <a class="nav-link scrollto" href="#eonx-com_easy-error-handler_readme">
                                
                                Introduction
                            </a>
                        </li>
                                            <li class="nav-item section-title mt-3">
                            <a class="nav-link scrollto" href="#eonx-com_easy-error-handler_docs_symfony_install">
                                                                    <span class="theme-icon-holder mr-2">
                                        <i class="fab fa-symfony"></i>
                                    </span>
                                
                                Symfony
                            </a>
                        </li>
                                            <li class="nav-item section-title mt-3">
                            <a class="nav-link scrollto" href="#eonx-com_easy-error-handler_docs_laravel_lumen_install">
                                                                    <span class="theme-icon-holder mr-2">
                                        <i class="fab fa-laravel"></i>
                                    </span>
                                
                                Laravel/Lumen
                            </a>
                        </li>
                                            <li class="nav-item ">
                            <a class="nav-link scrollto" href="#eonx-com_easy-error-handler_docs_laravel_config">
                                
                                Configuration
                            </a>
                        </li>
                                    </ul>
            </nav>
        </div>
        <div class="docs-content">
            <div class="container">
                <article class="docs-article" id="intro">
                    <header class="docs-header">
                                                <h1 class="docs-heading">
                            eonx-com/easy-error-handler
                            <a href="https://github.com/eonx-com/easy-monorepo"><i class="fa fa-github"></i></a>
                        </h1>
                        <section class="docs-intro">
                            <p>Provides customizable ready-to-use error handler for applications</p>
                        </section>
                    </header>

                                            <section class="docs-section" id="eonx-com_easy-error-handler_readme">
                            <h2 class="section-heading">
                                                                Introduction
                                <div class="docs-time">
                                    Last Updated: 21/09/2020 22:05:23 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyErrorHandler/readme.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <p>This package performs the following:</p>
<ul>
<li>Define a common structure of exceptions</li>
<li>Generate consistent error responses for unhandled exceptions within the code</li>
<li>By default, log them using the main logging channel of the app</li>
<li>By default, and if used with <a href="https://packages.eonx.com/projects/eonx-com/easy-bugsnag/">easy-bugsnag</a> will automatically notify bugsnag when required (based on log level of the exception)</li>
</ul>
<p><br></p>
<h3>Require package (Composer)</h3>
<p>The recommended way to install this package is to use <a href="https://getcomposer.org/">Composer</a>:</p>
<pre><code class="language-bash">$ composer require eonx-com/easy-error-handler</code></pre>
<h3>Exceptions</h3>
<ul>
<li><strong>BaseException:</strong> parent exception for all the others</li>
<li><strong>BadRequestException:</strong> for 400 Bad Request HTTP responses</li>
<li><strong>ConflictException:</strong> for 409 Conflict HTTP responses</li>
<li><strong>ErrorException:</strong> for ERROR log level (e.g. any unexpected error)</li>
<li><strong>ForbiddenException:</strong> for 403 Forbidden HTTP responses</li>
<li><strong>NotFoundException:</strong> for 404 Not Found HTTP responses</li>
<li><strong>UnauthorizedException:</strong> for 401 Unauthorized HTTP responses</li>
<li><strong>ValidationException:</strong> extends <code>BadRequestException</code> with additional list of errors</li>
</ul>
<p><br></p>
<h3>ErrorHandler</h3>
<p>The <code>EonX\EasyErrorHandler\Interfaces\ErrorHandlerInterface</code> define 2 methods:</p>
<ul>
<li><strong>render:</strong> generates an HTTP response for the given request and error</li>
<li><strong>report:</strong> generates reports for the given error (e.g. logging)</li>
</ul>
<p><br></p>
<p>When using this package in your favourite framework, the <code>ErrorHandlerInterface</code> is registered as a service, so you can
use dependency injection to use it within your application:</p>
<pre><code class="language-php">// src/Service/MyService.php

namespace App\Service;

use EonX\EasyErrorHandler\Interfaces\ErrorHandlerInterface;

final class MyService
{
    /**
     * @var \EonX\EasyErrorHandler\Interfaces\ErrorHandlerInterface
     */
    private $errorHandler;

    public function __construct(ErrorHandlerInterface $errorHandler)
    {
        $this-&gt;errorHandler = $errorHandler;
    }

    public function doSomething(): void
    {
        try {
            // Do something...
        } catch (\Throwable $throwable) {
            $this-&gt;errorHandler-&gt;report($throwable);
        }  
    }
}</code></pre>
<p><br></p>
<h3>ErrorResponseBuilderInterface</h3>
<p>The <code>EonX\EasyErrorHandler\Interfaces\ErrorResponseBuilderInterface</code> is used to build the information required to create
an HTTP response for the given error. It is responsible for providing:</p>
<ul>
<li><strong>data:</strong> raw data as an array, will be encoded to generate the HTTP response content</li>
<li><strong>headers:</strong> array of headers to set on the generated HTTP response</li>
<li><strong>status code:</strong> the status code of the generated HTTP response</li>
</ul>
<p>The error handler loop through the list of <code>ErrorResponseBuilderInterface</code> provided to build the error response data to
generate the HTTP response.</p>
<p>How do you provide those error response builders? Using <code>EonX\EasyErrorHandler\Interfaces\ErrorResponseBuilderProviderInterface</code>!
This interface defines one method <code>getBuilders()</code> which returns a collection of <code>ErrorResponseBuilderInterface</code>. The
error handler accept via its constructor a collection of those error response builder providers allowing you to create
and provide your owns.</p>
<pre><code class="language-php">// src/Exception/Response/MyStatusCodeBuilderProvider.php

namespace App\Exception\Response;

use EonX\EasyErrorHandler\Builders\StatusCodeBuilder;use EonX\EasyErrorHandler\Interfaces\ErrorResponseBuilderProviderInterface;

final class MyStatusCodeBuilderProvider implements ErrorResponseBuilderProviderInterface
{
    /**
     * @return iterable&lt;\EonX\EasyErrorHandler\Interfaces\ErrorResponseBuilderProviderInterface&gt;
     */
     public function getBuilders(): iterable
    {
        // Return a built-in status code builder, but don't hesitate to create your own!
        yield new StatusCodeBuilder();
    }
}</code></pre>
<p><br></p>
<h3>ErrorReporterInterface</h3>
<p>The <code>EonX\EasyErrorHandler\Interfaces\ErrorReporterInterface</code> is used by the error handler to delegate the report logic
to your application. The error handler will loop through the provided error reporters and call their <code>report()</code> method.</p>
<p>How do you provide those error reporters? Using <code>EonX\EasyErrorHandler\Interfaces\ErrorReporterProviderInterface</code>!
This interface defines one method <code>getReporters()</code> which returns a collection of <code>ErrorReporterInterface</code>. The
error handler accept via its constructor a collection of those error reporters providers allowing you to create
and provide your owns.</p>
<p><br></p>

                            <br>
                        </section>
                        <br>
                                            <section class="docs-section" id="eonx-com_easy-error-handler_docs_symfony_install">
                            <h2 class="section-heading">
                                                                    <i class="fab fa-symfony"></i>
                                                                Symfony
                                <div class="docs-time">
                                    Last Updated: 21/09/2020 22:05:23 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyErrorHandler/docs/symfony/install.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <h3>Register Bundle</h3>
<p>If you're using <a href="https://flex.symfony.com/">Symfony Flex</a>, this step has been done automatically for you. If not, you can register the bundle
yourself:</p>
<pre><code class="language-php">// config/bundles.php

return [
    // Other bundles ...

    EonX\EasyErrorHandler\Bridge\Symfony\EasyErrorHandlerBundle::class =&gt; ['all' =&gt; true],
];</code></pre>

                            <br>
                        </section>
                        <br>
                                            <section class="docs-section" id="eonx-com_easy-error-handler_docs_laravel_lumen_install">
                            <h2 class="section-heading">
                                                                    <i class="fab fa-laravel"></i>
                                                                Laravel/Lumen
                                <div class="docs-time">
                                    Last Updated: 21/09/2020 22:05:23 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyErrorHandler/docs/laravel/lumen_install.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <h3>Register Service Provider</h3>
<p>In a Lumen application you must explicitly tell the application to register the package's service provider as following:</p>
<pre><code class="language-php"># bootstrap/app.php

$app = new Laravel\Lumen\Application(\dirname(__DIR__));

// Other actions...

$app-&gt;register(\EonX\EasyErrorHandler\Bridge\Laravel\Provider\EasyErrorHandlerServiceProvider::class);</code></pre>
<h3>Add Config</h3>
<p>In a Lumen application you must explicitly tell the application to add the package's config as following:</p>
<pre><code class="language-php"># bootstrap/app.php

$app = new Laravel\Lumen\Application(\dirname(__DIR__));

// Other actions...

$app-&gt;configure('easy-error-handler');</code></pre>

                            <br>
                        </section>
                        <br>
                                            <section class="docs-section" id="eonx-com_easy-error-handler_docs_laravel_config">
                            <h2 class="section-heading">
                                                                Configuration
                                <div class="docs-time">
                                    Last Updated: 21/09/2020 22:05:23 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyErrorHandler/docs/laravel/config.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <h3>Create the configuration file</h3>
<p>The package allows you to configure error response field names.
Just copy <code>src/Bridge/Laravel/config/easy-error-handler.php</code> to <code>config/easy-error-handler.php</code> and adjust it to
your needs (you can leave only the fields you want to override):</p>
<pre><code class="language-php"># config/easy-error-handler.php

return [

    /**
     * Use extended error response with exception message, trace, etc.
     */
    'use_extended_response' =&gt; \env('EASY_ERROR_HANDLER_USE_EXTENDED_RESPONSE', false),

    /**
     * Use default set of error response builders.
     */
    'use_default_builders' =&gt; \env('EASY_ERROR_HANDLER_USE_DEFAULT_BUILDERS', true),

    /**
     * Use default set of error reporters.
     */
    'use_default_reporters' =&gt; \env('EASY_ERROR_HANDLER_USE_DEFAULT_REPORTERS', true),

    /**
     * Register error reporter for easy-bugsnag automatically.
     */
    'bugsnag_enabled' =&gt; \env('EASY_ERROR_HANDLER_EASY_BUGSNAG_ENABLED', true),

    /**
     * Log level threshold to notify bugsnag.
     */
    'bugsnag_threshold' =&gt; \env('EASY_ERROR_HANDLER_EASY_BUGSNAG_ENABLED', null),

    /*
    |--------------------------------------------------------------------------
    | Error response
    |--------------------------------------------------------------------------
    |
    | Here you may customize error response field names
    |
    */
    'response' =&gt; [
        'code' =&gt; 'code',
        'exception' =&gt; 'exception',
        'extended_exception_keys' =&gt; [
            'class' =&gt; 'class',
            'file' =&gt; 'file',
            'line' =&gt; 'line',
            'message' =&gt; 'message',
            'trace' =&gt; 'trace',
        ],
        'message' =&gt; 'message',
        'sub_code' =&gt; 'sub_code',
        'time' =&gt; 'time',
        'violations' =&gt; 'violations',
    ],
];</code></pre>
<h3>Translations</h3>
<p>If you want to update default package translations, copy the <code>src/Bridge/Laravel/translations/en/messages.php</code>
to the <code>resources/lang/vendor/easy-error-handler/en/messages.php</code> and change it.</p>

                            <br>
                        </section>
                        <br>
                                    </article>
            </div>
        </div>
    </div>
    </body>
</div>

        

    <script src="/assets/js/jquery-3.4.1.min.js"></script>
    <script src="/assets/js/jquery.scrollTo.min.js"></script>
    <script src="/assets/js/popper.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>


    <script src="/assets/js/docs.js"></script>

    <script>
        $('pre').addClass('line-numbers');

        $(function (){
            $('.code-toolbar').addClass('shadow-sm');
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
    <script src="/assets/js/prism.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-147626313-4"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-147626313-4');
</script>
</html>
