<!DOCTYPE html>
<html lang="en">
<head>
    <title>EonX Docs</title>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">
    <script defer src="https://kit.fontawesome.com/955de18180.js" crossorigin="anonymous"></script>

    <link rel="icon" href="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-512-70x70.png" sizes="32x32">
    <link rel="icon" href="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-512.png" sizes="192x192">
    <link rel="apple-touch-icon-precomposed" href="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-512.png">

                

        <link id="theme-style" rel="stylesheet" href="/assets/css/theme.css">
    

    <link id="theme-style" rel="stylesheet" href="/assets/css/theme.css">
    <link id="theme-style" rel="stylesheet" href="/assets/css/prism.css">
</head>

<div id="app">
        <body class="docs-page">
    <header class="header fixed-top">
        <div class="branding docs-branding">
            <div class="container-fluid position-relative py-2">
                <div class="docs-logo-wrapper">
                    <button id="docs-sidebar-toggler" class="docs-sidebar-toggler docs-sidebar-visible mr-2 d-xl-none"
                            type="button">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <div class="site-logo">
                        <a class="navbar-brand" href="/">
                            <img class="logo-icon mr-2"
                                 src="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-logo@1x.png"
                                 alt="logo">
                        </a>
                    </div>
                </div><!--//docs-logo-wrapper-->
                <div class="docs-top-utilities d-flex justify-content-end align-items-center">
                    <div class="top-search-box d-none d-lg-flex">
                        <form class="search-form">
                            <input type="text" placeholder="Search the docs..." name="search"
                                   class="form-control search-input">
                            <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i>
                            </button>
                        </form>
                    </div>

                                                                                                                                                            </div><!--//docs-top-utilities-->
            </div><!--//container-->
        </div><!--//branding-->
    </header><!--//header-->

        <div class="docs-wrapper">
        <div id="docs-sidebar" class="docs-sidebar">
            <nav id="docs-nav" class="docs-nav navbar">
                <ul class="section-items list-unstyled nav flex-column pb-3">
                    <li class="nav-item section-title">
                        <a class="nav-link scrollto active" href="#intro">
                        <span class="theme-icon-holder mr-2">
                            <i class="fas fa-cubes"></i>
                        </span>
                            eonx-com/easy-repository
                        </a>
                    </li>

                                            <li class="nav-item ">
                                                        <a class="nav-link scrollto" href="#eonx-com_easy-repository_docs_laravel_doctrine_orm_install">
                                laravel_doctrine_orm_install.md
                            </a>
                        </li>
                                            <li class="nav-item ">
                                                        <a class="nav-link scrollto" href="#eonx-com_easy-repository_docs_laravel_install">
                                laravel_install.md
                            </a>
                        </li>
                                            <li class="nav-item ">
                                                        <a class="nav-link scrollto" href="#eonx-com_easy-repository_readme">
                                readme.md
                            </a>
                        </li>
                                    </ul>
            </nav>
        </div>
        <div class="docs-content">
            <div class="container">
                <article class="docs-article" id="intro">
                    <header class="docs-header">
                        <h1 class="docs-heading">
                            eonx-com/easy-repository
                            <a href="https://github.com/eonx-com/easy-monorepo"><i class="fa fa-github"></i></a>
                        </h1>
                        <section class="docs-intro">
                            <p>Provides an easy way to implement the Repository Design Pattern in your applications</p>
                        </section>
                    </header>

                                            <section class="docs-section" id="eonx-com_easy-repository_docs_laravel_doctrine_orm_install">
                            <h2 class="section-heading">
                                laravel_doctrine_orm_install.md
                                <div class="docs-time">
                                    Last Updated: 11/12/2019 03:51:30 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyRepository/docs/laravel_doctrine_orm_install.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <div align="center">
    <h1>EonX - EasyRepository</h1>
    <p>Provides an easy way to implement the Repository Design Pattern in your applications.</p>
</div>
<hr />
<p>This document describes the steps to use this package into a <a href="https://laravel.com/">Laravel</a> and/or <a href="https://lumen.laravel.com/">Lumen</a> application with the
<a href="https://www.doctrine-project.org/projects/orm.html">Doctrine ORM</a> implementation.</p>
<h1>Install With Doctrine ORM</h1>
<p>For this package install please refer to the related <a href="laravel_install.md">documentation</a>. Regarding Doctrine ORM, we
strongly recommend you to use the <a href="https://www.laraveldoctrine.org/docs/1.3/orm">Laravel Doctrine ORM package</a>, please refer to its documentation for its install.</p>
<h1>Usage</h1>
<h2>AbstractDoctrineRepository</h2>
<p>This package provides you with <code>EonX\EasyRepository\Implementations\Doctrine\ORM\AbstractDoctrineRepository</code> which
has everything setup for you to implement the generic <code>ObjectRepositoryInterface</code> using Doctrine ORM, and take advantage
of the dependency injection. Using this abstraction is completely optional you could create your own, but we recommend
to use it to avoid you doing work already done.</p>
<p>Make sure all your repositories extend it, then you will be able to use the existing methods and/or create your own. To
be able to work properly this abstraction will ensure an entity class is provided.</p>
<p>Here is a simple example how to use it:</p>
<pre><code class="language-php">// app/Repositories/PostRepositoryInterface.php

use App\Database\Entities\Post;

interface PostRepositoryInterface
{
    public function findByTitle(string $title): ?Post;
}

// app/Repositories/PostRepository.php

use App\Database\Entities\Post;
use EonX\EasyRepository\Implementations\Doctrine\ORM\AbstractDoctrineRepository;

final class PostRepository extends AbstractDoctrineRepository implements PostRepositoryInterface
{
    /**
     * Find a post by its title.
     *
     * @param string $title The post title
     *
     * @return null|\App\Database\Entities\Post
     */
    public function findByTitle(string $title): ?Post
    {
        // The abstraction provides you the Doctrine Repository for Post::class as a protected property
        return $this-&gt;repository-&gt;findOneBy(['title' =&gt; $title]);
    }

    /**
     * Get entity class managed by the repository.
     *
     * @return string
     */
     protected function getEntityClass(): string
     {
        return Post::class;
     }
}</code></pre>
<h2>AbstractPaginatedDoctrineOrmRepository</h2>
<p>If you need to deal with paginated sets of objects, this package provides you with <code>EonX\EasyRepository\Implementations\Doctrine\ORM\AbstractPaginatedDoctrineOrmRepository</code>
which has everything setup for you. This repository has a dependency on the <code>StartSizeDataInterface</code> from the <code>eonx/pagination</code>
package so to be able to use it you first need to update your project's dependencies:</p>
<pre><code class="language-bash">$ composer require eonx/pagination</code></pre>
<p>And then don't forget to register the service provider into your application, please refer to the <a href="https://github.com/eonx/easy-pagination/blob/master/docs/install_laravel.md">documentation</a>.</p>
<p>Once everything setup, the pagination data will be resolved and injected automatically into your repositories. You will
have access to the method <code>public function paginate(?StartSizeDataInterface $startSizeData = null): LengthAwarePaginatorInterface</code>
which will allow you to pass an optional pagination data object, if you don't it will then use the resolved data.
On the top of this public method, this abstraction provides an internal <code>protected function doPaginate(\Doctrine\ORM\Query $query): LengthAwarePaginatorInterface</code>
which allows you to easily paginate any custom query you build.</p>
<p>Here is a simple example how to use it:</p>
<pre><code class="language-php">// app/Repositories/PostRepositoryInterface.php

use App\Database\Entities\Post;
use EonX\EasyPagination\Interfaces\LengthAwarePaginatorInterface;

interface PostRepositoryInterface
{
    public function getByCategoryPaginatedList(string $category): LengthAwarePaginatorInterface;
}

// app/Repositories/PostRepository.php

use App\Database\Entities\Post;
use EonX\EasyRepository\Implementations\Doctrine\ORM\AbstractPaginatedDoctrineOrmRepository;

final class PostRepository extends AbstractPaginatedDoctrineOrmRepository implements PostRepositoryInterface
{
    public function getByCategoryPaginatedList(string $category): LengthAwarePaginatorInterface
    {
        $query = $this-&gt;createQueryBuilder()
                      -&gt;where('p.category = :category')
                      -&gt;setParameter('category', $category)
                      -&gt;getQuery();

        return $this-&gt;doPaginate($query);
    }

    /**
     * Get entity class managed by the repository.
     *
     * @return string
     */
     protected function getEntityClass(): string
     {
        return Post::class;
     }
}</code></pre>
                        </section>
                                            <section class="docs-section" id="eonx-com_easy-repository_docs_laravel_install">
                            <h2 class="section-heading">
                                laravel_install.md
                                <div class="docs-time">
                                    Last Updated: 11/12/2019 03:51:30 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyRepository/docs/laravel_install.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <div align="center">
    <h1>EonX - EasyRepository</h1>
    <p>Provides an easy way to implement the Repository Design Pattern in your applications.</p>
</div>
<hr />
<p>This document describes the steps to install this package into a <a href="https://laravel.com/">Laravel</a> and/or <a href="https://lumen.laravel.com/">Lumen</a> application.</p>
<h1>Require package (Composer)</h1>
<p>Laravel uses <a href="https://getcomposer.org/">Composer</a> to manage its dependencies. You can require this package as following:</p>
<pre><code class="language-bash">$ composer require eonx/easy-repository</code></pre>
<h1>Service Provider</h1>
<p>Once the package required, you must tell your application to use it. Laravel uses service providers to do so, if you are
not familiar with this concept make sure to have a look at the <a href="https://laravel.com/docs/5.7/providers">documentation</a>.</p>
<p>This package provides you with a service provider which will register your repositories into the services container
automatically. Make sure to register it:</p>
<pre><code class="language-php">// config/app.php

'providers' =&gt; [
    // Other Service Providers...

    \EonX\EasyRepository\Bridge\Laravel\EasyRepositoryProvider::class
],</code></pre>
<h1>Config</h1>
<p>To allow this package to work with your own repositories you must let it know about your repositories structure. To do
so you will use the configuration file <code>src/Bridge/Laravel/config/easy-repository.php</code>. Copy/Paste this file into your
<code>config</code> folder and then update it with your own repositories list.</p>
<pre><code class="language-php">return [
    'repositories' =&gt; [
        \App\Repositories\PostRepositoryInterface::class =&gt; \App\Repositories\PostRepository::class,
        \App\Repositories\CommentRepositoryInterface::class =&gt; \App\Repositories\CommentRepository::class
    ]</code></pre>
<p>Repositories list must be an associative array where the keys are the abstraction of your repositories
and the values the concrete class of your repositories. The keys of this array can technically be anything, however,
we strongly recommend you to use the <a href="https://en.wikipedia.org/wiki/Fully_qualified_name">FQCN</a> of the interface your repository implements this way you can use
<a href="http://php-di.org/doc/autowiring.html">autowiring</a> for your dependency injection.</p>
<h1>Lumen Actions Required</h1>
<p>To install this package in a Lumen application the procedures are a bit different.</p>
<h2>Register Service Provider</h2>
<p>In a Lumen application you must explicitly tell the application to register the package's service provider as following:</p>
<pre><code class="language-php">// bootstrap/app.php

$app = new Laravel\Lumen\Application(\dirname(__DIR__));

// Other actions...

$app-&gt;register(\EonX\EasyRepository\Bridge\Laravel\EasyRepositoryProvider::class);</code></pre>
<h2>Add Config</h2>
<p>In a Lumen application you must explicitly tell the application to add the package's config as following:</p>
<pre><code class="language-php">// bootstrap/app.php

$app = new Laravel\Lumen\Application(\dirname(__DIR__));

// Other actions...

$app-&gt;configure('easy-repository');</code></pre>
<h1>Usage</h1>
<p>That's it you're all setup! You're now able to use your repositories as services anywhere you want, using dependency
injection or service locator (we strongly recommend to use the first one haha).</p>
<pre><code class="language-php">// Dependency Injection
public function __construct(\App\Repositories\PostRepositoryInterface $postRepository) {
    $this-&gt;postRepository = $postRepository; // Will be your configured repository implementation
}

// Service Locator
$app-&gt;make(\App\Repositories\PostRepositoryInterface::class); // Will be your configured repository implementation as well</code></pre>
                        </section>
                                            <section class="docs-section" id="eonx-com_easy-repository_readme">
                            <h2 class="section-heading">
                                readme.md
                                <div class="docs-time">
                                    Last Updated: 11/12/2019 03:51:30 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyRepository/readme.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <div align="center">
    <h1>EonX - EasyRepository</h1>
    <p>Provides an easy way to implement the Repository Design Pattern in your applications.</p>
</div>
<hr />
<h1>Documentation</h1>
<h2>Laravel / Lumen</h2>
<ul>
<li><a href="docs/laravel_install.md">Installation</a></li>
<li><a href="docs/laravel_doctrine_orm_install.md">Installation with Doctrine ORM</a></li>
</ul>
                        </section>
                                    </article>
            </div>
        </div>
    </div>
    </body>
</div>

        

    <script src="/assets/js/jquery-3.4.1.min.js"></script>
    <script src="/assets/js/jquery.scrollTo.min.js"></script>
    <script src="/assets/js/popper.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>


    <script src="/assets/js/docs.js"></script>

    <script>
        $('pre').addClass('line-numbers');

        $(function (){
            $('.code-toolbar').addClass('shadow-sm');
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
    <script src="/assets/js/prism.js"></script>
</html>
