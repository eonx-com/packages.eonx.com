<!DOCTYPE html>
<html lang="en">
<head>
    <title>EonX Docs</title>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">
    <script defer src="https://kit.fontawesome.com/955de18180.js" crossorigin="anonymous"></script>

    <link rel="icon" href="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-512-70x70.png" sizes="32x32">
    <link rel="icon" href="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-512.png" sizes="192x192">
    <link rel="apple-touch-icon-precomposed" href="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-512.png">

                

        <link id="theme-style" rel="stylesheet" href="/assets/css/theme.css">
    

    <link id="theme-style" rel="stylesheet" href="/assets/css/theme.css">
    <link id="theme-style" rel="stylesheet" href="/assets/css/prism.css">
</head>

<div id="app">
        <body class="docs-page">
    <header class="header fixed-top">
        <div class="branding docs-branding">
            <div class="container-fluid position-relative py-2">
                <div class="docs-logo-wrapper">
                    <button id="docs-sidebar-toggler" class="docs-sidebar-toggler docs-sidebar-visible mr-2 d-xl-none"
                            type="button">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <div class="site-logo">
                        <a class="navbar-brand" href="/">
                            <img class="logo-icon mr-2"
                                 src="https://39cszd96rb9jntgd3r2cirij-wpengine.netdna-ssl.com/wp-content/uploads/2019/09/eonx-logo@1x.png"
                                 alt="logo">
                        </a>
                    </div>
                </div><!--//docs-logo-wrapper-->
                <div class="docs-top-utilities d-flex justify-content-end align-items-center">
                    <div class="top-search-box d-none d-lg-flex">
                        <form class="search-form">
                            <input type="text" placeholder="Search the docs..." name="search"
                                   class="form-control search-input">
                            <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i>
                            </button>
                        </form>
                    </div>

                                                                                                                                                            </div><!--//docs-top-utilities-->
            </div><!--//container-->
        </div><!--//branding-->
    </header><!--//header-->

        <div class="docs-wrapper">
        <div id="docs-sidebar" class="docs-sidebar">
            <nav id="docs-nav" class="docs-nav navbar">
                <ul class="section-items list-unstyled nav flex-column pb-3">
                    <li class="nav-item section-title">
                        <a class="nav-link scrollto active" href="#intro">
                        <span class="theme-icon-holder mr-2">
                            <i class="fas fa-cubes"></i>
                        </span>
                            eonx-com/easy-pipeline
                        </a>
                    </li>

                                            <li class="nav-item ">
                            <a class="nav-link scrollto" href="#eonx-com_easy-pipeline_docs_laravel_install">
                                
                                laravel_install.md
                            </a>
                        </li>
                                            <li class="nav-item ">
                            <a class="nav-link scrollto" href="#eonx-com_easy-pipeline_docs_middleware_providers">
                                
                                middleware_providers.md
                            </a>
                        </li>
                                            <li class="nav-item ">
                            <a class="nav-link scrollto" href="#eonx-com_easy-pipeline_docs_middlewares">
                                
                                middlewares.md
                            </a>
                        </li>
                                            <li class="nav-item ">
                            <a class="nav-link scrollto" href="#eonx-com_easy-pipeline_readme">
                                
                                readme.md
                            </a>
                        </li>
                                    </ul>
            </nav>
        </div>
        <div class="docs-content">
            <div class="container">
                <article class="docs-article" id="intro">
                    <header class="docs-header">
                        <h1 class="docs-heading">
                            eonx-com/easy-pipeline
                            <a href="https://github.com/eonx-com/easy-monorepo"><i class="fa fa-github"></i></a>
                        </h1>
                        <section class="docs-intro">
                            <p>Provides an easy and powerful way to implement pipelines for anything</p>
                        </section>
                    </header>

                                            <section class="docs-section" id="eonx-com_easy-pipeline_docs_laravel_install">
                            <h2 class="section-heading">
                                                                laravel_install.md
                                <div class="docs-time">
                                    Last Updated: 11/12/2019 03:51:30 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyPipeline/docs/laravel_install.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <div align="center">
    <h1>EonX - EasyPipeline</h1>
    <p>Provides an easy and powerful way to implement pipelines for anything.</p>
</div>
<hr />
<p>This document describes the steps to install this package into a <a href="https://laravel.com/">Laravel</a> and/or <a href="https://lumen.laravel.com/">Lumen</a> application.</p>
<h1>Require package (Composer)</h1>
<p>Laravel uses <a href="https://getcomposer.org/">Composer</a> to manage its dependencies. You can require this package as following:</p>
<pre><code class="language-bash">$ composer require eonx/easy-pipeline</code></pre>
<h1>Service Provider</h1>
<p>Once the package required, you must tell your application to use it. Laravel uses service providers to do so, if you are
not familiar with this concept make sure to have a look at the <a href="https://laravel.com/docs/5.7/providers">documentation</a>.</p>
<p>This package provides you with a service provider which will register your pipelines into the services container
automatically. Make sure to register it:</p>
<pre><code class="language-php">// config/app.php

'providers' =&gt; [
    // Other Service Providers...

    \EonX\EasyPipeline\Bridge\Laravel\EasyIlluminatePipelineServiceProvider::class
],</code></pre>
<h1>Config</h1>
<p>To allow this package to work with your own pipelines you must let it know about your pipelines and
middleware providers structure. To do so you will use the configuration file
<code>src/Bridge/Laravel/config/easy-pipeline.php</code>. Copy/Paste this file into your <code>config</code> folder and then
update it with your own pipelines list.</p>
<pre><code class="language-php">return [
    'pipelines' =&gt; [
        'pipeline-1' =&gt; \App\Pipelines\Pipeline1MiddlewareProvider::class,
        'pipeline-2' =&gt; \App\Pipelines\Pipeline2MiddlewareProvider::class
    ]</code></pre>
<p>Pipelines list must be an associative array where the keys are the names of your pipelines
and the values the class of your middleware provider for each pipeline.</p>
<h1>Lumen Actions Required</h1>
<p>To install this package in a Lumen application the procedures are a bit different.</p>
<h2>Register Service Provider</h2>
<p>In a Lumen application you must explicitly tell the application to register the package's service provider as following:</p>
<pre><code class="language-php">// bootstrap/app.php

$app = new Laravel\Lumen\Application(\dirname(__DIR__));

// Other actions...

$app-&gt;register(\EonX\EasyPipeline\Bridge\Laravel\EasyIlluminatePipelineServiceProvider::class);</code></pre>
<h2>Add Config</h2>
<p>In a Lumen application you must explicitly tell the application to add the package's config as following:</p>
<pre><code class="language-php">// bootstrap/app.php

$app = new Laravel\Lumen\Application(\dirname(__DIR__));

// Other actions...

$app-&gt;configure('easy-pipeline');</code></pre>
<h1>Usage</h1>
<p>Prior to be able to use the pipelines in your application you will need create your middleware providers for each
of your pipeline, for more information please have a look at the <a href="middleware_providers.md">documentation</a>.</p>
<p>That's it you're all setup! You're now able to use your pipelines anywhere you want, using dependency
injection or service locator (we strongly recommend to use the first one haha). To do so, you need to use the
<code>EonX\EasyPipeline\Interfaces\PipelineFactoryInterface</code> to create your pipelines and their middleware list.</p>
<pre><code class="language-php">use EonX\EasyPipeline\Interfaces\PipelineFactoryInterface;

final class MyClass
{
    // Dependency Injection
    public function processMyPipeline(PipelineFactoryInterface $pipelineFactory, $input) 
    {
        $pipeline = $pipelineFactory-&gt;create('my-pipeline'); // Will be your configured pipeline implementation

        $output = $pipeline-&gt;process($input); // Return the potentially modified version of $input

        $logs = $pipeline-&gt;getLogs(); // Return the logs from last process
    }

    // Service Locator
    public function processMyPipelineToo($input)
    {
        // Will be your configured repository implementation as well
        $pipeline = $app-&gt;make(\EonX\EasyPipeline\Interfaces\PipelineFactoryInterface::class)-&gt;create('my-pipeline');

        $output = $pipeline-&gt;process($input); // Return the potentially modified version of $input

        $logs = $pipeline-&gt;getLogs(); // Return the logs from last process
    }
}</code></pre>

                            <br>
                        </section>
                        <br>
                                            <section class="docs-section" id="eonx-com_easy-pipeline_docs_middleware_providers">
                            <h2 class="section-heading">
                                                                middleware_providers.md
                                <div class="docs-time">
                                    Last Updated: 11/12/2019 03:51:30 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyPipeline/docs/middleware_providers.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <div align="center">
    <h1>EonX - EasyPipeline</h1>
    <p>Provides an easy and powerful way to implement pipelines for anything.</p>
</div>
<hr />
<p>This document describes the concept of middleware providers and how to use them.</p>
<h1>What's a pipeline?</h1>
<p>If you're not familiar with the Pipeline Design Pattern we recommend you to have a look at this <a href="https://www.cise.ufl.edu/research/ParallelPatterns/PatternLanguage/AlgorithmStructure/Pipeline.htm">documentation</a>.
In this package the &quot;tasks or stages&quot; are represented by the <code>EonX\EasyPipeline\Interfaces\MiddlewareInterface</code>.
So the pipelines created using this package will allow you to process input data through a collection of middleware.
The only way to define the middleware each pipeline will use is via <code>EonX\EasyPipeline\Interfaces\MiddlewareProviderInterface</code>.</p>
<h1>How MiddlewareProviders work?</h1>
<p>Each middleware provider must be an instance of the <code>EonX\EasyPipeline\Interfaces\MiddlewareProviderInterface</code>,
this interface defines one simple method <code>getMiddlewareList(): array</code>. The objective of this method is to return a list
of middleware to use within a pipeline instance.</p>
<h2>What values can my MiddlewareProviders return?</h2>
<p>The middleware providers must return an array of <code>MiddlewareInterface</code>.</p>
<p>That's it!? That's all!? Not really handy, I'm sure we can do better!</p>
<p>Yes you're right, this package comes with an implementation for any application using a PSR Service Container!
That means you can also register your middleware inside the service container and return its service locator from your
MiddlewareProvider and this package will know how to instantiate it! We recommend you to register your middleware using
its <a href="https://en.wikipedia.org/wiki/Fully_qualified_name">FQCN</a>.</p>
<h3>Illuminate Pipeline implementation</h3>
<p>The <a href="https://packagist.org/packages/illuminate/pipeline">Illuminate Pipeline</a> knows how to resolve middleware using the PSR Service Container as well, and on the top of
that it also allows you to define your middleware using <code>callable</code>. So if you're a using the <code>IlluminatePipeline</code>
implementation of this package your MiddlewareProviders can return closures and any kind of <code>callable</code> as well.</p>
<h4>Accessing the Pipeline name</h4>
<p>If you're using the IlluminatePipelineFactory, a MiddlewareProvider can access the name it was registered under by implementing the <code>EonX\EasyPipeline\Interfaces\PipelineNameAwareInterface</code>.
The factory will call <code>setPipelineName()</code> on any MiddlewareProviders implementing this.</p>
<p>To save time, the <code>EonX\EasyPipeline\Traits\PipelineNameAwareTrait</code> is available, providing an implementation of this function and the private property <code>$pipelineName</code>.</p>
<h1>Dependency Injection</h1>
<p>This package is using the PSR Service Container to instantiate your MiddlewareProviders which means you can use
dependency injection on them, how convenient!</p>
<h1>Example</h1>
<pre><code class="language-php">use App\Validator\MyValidatorInterface;
use EonX\EasyPipeline\Interfaces\MiddlewareProviderInterface;

final class MyPipeline1MiddlewareProvider implements MiddlewareProviderInterface
{
    /**
     * @var App\Validator\MyValidatorInterface
     */
    private $validator;

    public function __construct(MyValidatorInterface $validator)
    {
        $this-&gt;validator = $validator; // You can use dependency injection
    }

    /**
     * Get middleware list, middleware could be anything your container can resolve.
     *
     * @return mixed[]
     */
     public function getMiddlewareList(): array
     {
         return [
            new ChangeNameMiddleware(), // Instance of the middleware
            ChangeAddressMiddleware::class, // FQCN of the middleware to be resolve by the service container
            new MyValidatorMiddleware($this-&gt;validator), // Instance of the middleware with dependency injection

            // If you're using the IlluminatePipeline implementation
            function ($input, $next) {
                // Do stuff here...

                return $next($input);
            },

            // Or even
            [$this, 'actAsMiddleware']
         ];
     }

     /**
      * This method will act as a middleware.
      * 
      * @param mixed $input
      * @param \Closure $next
      *
      * @return mixed
      */
     public function actAsMiddleware($input, \Closure $next)
     {
        // Do stuff here...

        return $next($input);
     }
}</code></pre>

                            <br>
                        </section>
                        <br>
                                            <section class="docs-section" id="eonx-com_easy-pipeline_docs_middlewares">
                            <h2 class="section-heading">
                                                                middlewares.md
                                <div class="docs-time">
                                    Last Updated: 11/12/2019 03:51:30 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyPipeline/docs/middlewares.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <div align="center">
    <h1>EonX - EasyPipeline</h1>
    <p>Provides an easy and powerful way to implement pipelines for anything.</p>
</div>
<hr />
<p>This document describes the concept of middleware and how to use them.</p>
<h1>What's a middleware</h1>
<p>If you're not familiar with the Pipeline Design Pattern we recommend you to have a look at this <a href="https://www.cise.ufl.edu/research/ParallelPatterns/PatternLanguage/AlgorithmStructure/Pipeline.htm">documentation</a>.
In this package the &quot;tasks or stages&quot; are the middleware and are defined by the <code>EonX\EasyPipeline\Interfaces\MiddlewareInterface</code>.</p>
<h1>How to create a middleware</h1>
<p>A middleware is a simple PHP object implementing the <code>EonX\EasyPipeline\Interfaces\MiddlewareInterface</code>, this
interface defines only one method <code>handle($input, callable $next)</code> where <code>$input</code> is the pipeline input data, potentially
modified by a previous middleware, and <code>$next</code> is the callable to tell the next middleware it can proceed with the input.</p>
<p>To ensure the pipeline works as expected, each middleware MUST keep passing the input to the next middleware. Here is
the minimum required code for a middleware:</p>
<pre><code class="language-php">use EonX\EasyPipeline\Interfaces\MiddlewareInterface;

final class MyMiddleware implements MiddlewareInterface
{
    /**
     * Handle given input and pass return through next.
     *
     * @param mixed $input
     * @param callable $next
     *
     * @return mixed
     */
     public function handle($input, callable $next)
     {
        // Do stuff here...

        return $next($input); // Return the output of the next middleware for the given input
     }
}</code></pre>
<h1>Log each step of your pipeline</h1>
<p>This package comes with all the tools to allow your middleware to log information for each step of your pipeline, this
can be really handy for debugging purposes. In order to allow your middleware to log information, it must implement
the <code>EonX\EasyPipeline\Interfaces\MiddlewareLoggerAwareInterface</code> so that the pipeline know your middleware
requires the <code>EonX\EasyPipeline\Interfaces\MiddlewareLoggerInterface</code> instance.</p>
<p>The <code>MiddlewareLoggerInterface</code> defines one method <code>log(string $middleware, $content): void</code>, the first <code>$middleware</code>
parameter is to categorise the <code>$content</code> under a single identifier, it can be any string you want.</p>
<p>This package provides you with the <code>EonX\EasyPipeline\Traits\MiddlewareLoggerAwareTrait</code> which defines the setter
for the <code>MiddlewareLoggerInterface</code> and also the <code>log($content, ?string $middleware = null)</code> method to easily log content.
The <code>$middleware</code> parameter is optional, when it is not set the trait will default it to your middleware class name.
The trait is a convenient way of allowing your middleware to log content but if you do not like using traits you're free
to implement the logging logic yourself.</p>
<p>Here is the minimum required code for your middleware to log content:</p>
<pre><code class="language-php">use EonX\EasyPipeline\Interfaces\MiddlewareInterface;
use EonX\EasyPipeline\Interfaces\MiddlewareLoggerAwareInterface;
use EonX\EasyPipeline\Traits\MiddlewareLoggerAwareTrait;

final class MyMiddlewareWithLog implements MiddlewareInterface, MiddlewareLoggerAwareInterface
{
    use MiddlewareLoggerAwareTrait; // Will handle the setter for the MiddlewareLoggerInterface

    /**
     * Handle given input and pass return through next.
     *
     * @param mixed $input
     * @param callable $next
     *
     * @return mixed
     */
     public function handle($input, callable $next)
     {
        // Do stuff here...

        $this-&gt;log('Content to log');

        return $next($input); // Return the output of the next middleware for the given input
     }
}</code></pre>

                            <br>
                        </section>
                        <br>
                                            <section class="docs-section" id="eonx-com_easy-pipeline_readme">
                            <h2 class="section-heading">
                                                                readme.md
                                <div class="docs-time">
                                    Last Updated: 11/12/2019 03:51:30 -
                                    <a href="https://github.com/eonx-com/easy-monorepo/edit/master/packages/EasyPipeline/readme.md" target="_blank" title="Edit on Github">
                                        Edit on github <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </h2>

                            <div align="center">
    <h1>EonX - EasyPipeline</h1>
    <p>Provides an easy and powerful way to implement pipelines for anything.</p>
</div>
<hr />
<h1>Documentation</h1>
<h2>Middleware and MiddlewareProviders</h2>
<ul>
<li><a href="docs/middlewares.md">Middleware</a></li>
<li><a href="docs/middleware_providers.md">MiddlewareProviders</a></li>
</ul>
<h2>Laravel / Lumen</h2>
<ul>
<li><a href="docs/laravel_install.md">Installation</a></li>
</ul>

                            <br>
                        </section>
                        <br>
                                    </article>
            </div>
        </div>
    </div>
    </body>
</div>

        

    <script src="/assets/js/jquery-3.4.1.min.js"></script>
    <script src="/assets/js/jquery.scrollTo.min.js"></script>
    <script src="/assets/js/popper.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>


    <script src="/assets/js/docs.js"></script>

    <script>
        $('pre').addClass('line-numbers');

        $(function (){
            $('.code-toolbar').addClass('shadow-sm');
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
    <script src="/assets/js/prism.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-147626313-4"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-147626313-4');
</script>
</html>
